<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud Spanner C++ Client: google::cloud::spanner::v0::InstanceAdminClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud Spanner C++ Client
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">A C++ Client Library for Google Cloud Spanner</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegoogle.html">google</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud.html">cloud</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html">v0</a></li><li class="navelem"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google::cloud::spanner::v0::InstanceAdminClient Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs instance administration operations on Cloud Spanner.  
 <a href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="instance__admin__client_8h_source.html">google/cloud/spanner/instance_admin_client.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b88bdcbfc8b7af748988f16f546c559"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a1b88bdcbfc8b7af748988f16f546c559">InstanceAdminClient</a> (std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminConnection.html">InstanceAdminConnection</a> &gt; conn)</td></tr>
<tr class="separator:a1b88bdcbfc8b7af748988f16f546c559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09671ec2b83449f920822dbd22177d2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a09671ec2b83449f920822dbd22177d2c">InstanceAdminClient</a> ()=delete</td></tr>
<tr class="memdesc:a09671ec2b83449f920822dbd22177d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">No default construction.  <a href="#a09671ec2b83449f920822dbd22177d2c">More...</a><br /></td></tr>
<tr class="separator:a09671ec2b83449f920822dbd22177d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2750d0f0b1b0e40e0f1f85017bed1c4"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#ab2750d0f0b1b0e40e0f1f85017bed1c4">GetInstance</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;in)</td></tr>
<tr class="memdesc:ab2750d0f0b1b0e40e0f1f85017bed1c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve metadata information about a Cloud Spanner <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html" title="This class identifies a Cloud Spanner Instance.">Instance</a>.  <a href="#ab2750d0f0b1b0e40e0f1f85017bed1c4">More...</a><br /></td></tr>
<tr class="separator:ab2750d0f0b1b0e40e0f1f85017bed1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f8656528164cc095769d343ee135cf"><td class="memItemLeft" align="right" valign="top">future&lt; StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af7f8656528164cc095769d343ee135cf">CreateInstance</a> (google::spanner::admin::instance::v1::CreateInstanceRequest const &amp;)</td></tr>
<tr class="memdesc:af7f8656528164cc095769d343ee135cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Cloud Spanner instance in the given project.  <a href="#af7f8656528164cc095769d343ee135cf">More...</a><br /></td></tr>
<tr class="separator:af7f8656528164cc095769d343ee135cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4dbf95901e8d5f1057409e6fc021a28"><td class="memItemLeft" align="right" valign="top">future&lt; StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af4dbf95901e8d5f1057409e6fc021a28">UpdateInstance</a> (google::spanner::admin::instance::v1::UpdateInstanceRequest const &amp;)</td></tr>
<tr class="memdesc:af4dbf95901e8d5f1057409e6fc021a28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates a Cloud Spanner instance.  <a href="#af4dbf95901e8d5f1057409e6fc021a28">More...</a><br /></td></tr>
<tr class="separator:af4dbf95901e8d5f1057409e6fc021a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc1481e26b0467478757df9411e4759"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a6bc1481e26b0467478757df9411e4759">DeleteInstance</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;in)</td></tr>
<tr class="memdesc:a6bc1481e26b0467478757df9411e4759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an existing Cloud Spanner instance.  <a href="#a6bc1481e26b0467478757df9411e4759">More...</a><br /></td></tr>
<tr class="separator:a6bc1481e26b0467478757df9411e4759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae086def20707b8fdca2fef18756f4658"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; google::spanner::admin::instance::v1::InstanceConfig &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#ae086def20707b8fdca2fef18756f4658">GetInstanceConfig</a> (std::string const &amp;name)</td></tr>
<tr class="memdesc:ae086def20707b8fdca2fef18756f4658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve information about a Cloud Spanner <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html" title="This class identifies a Cloud Spanner Instance.">Instance</a> Config.  <a href="#ae086def20707b8fdca2fef18756f4658">More...</a><br /></td></tr>
<tr class="separator:ae086def20707b8fdca2fef18756f4658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a116ab0e45f96fbd2ea76f8c771517ed1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html#a26a21e57b79a55456e5eb82ea075cdf9">ListInstanceConfigsRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a116ab0e45f96fbd2ea76f8c771517ed1">ListInstanceConfigs</a> (std::string project_id)</td></tr>
<tr class="memdesc:a116ab0e45f96fbd2ea76f8c771517ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a list of instance configs for a given project.  <a href="#a116ab0e45f96fbd2ea76f8c771517ed1">More...</a><br /></td></tr>
<tr class="separator:a116ab0e45f96fbd2ea76f8c771517ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb99d864ef8d18f71cc62baa56758578"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html#a71cb6e79b7fb96cdd1bf646b8ab8e09b">ListInstancesRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#adb99d864ef8d18f71cc62baa56758578">ListInstances</a> (std::string project_id, std::string filter)</td></tr>
<tr class="memdesc:adb99d864ef8d18f71cc62baa56758578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a list of instances for a given project.  <a href="#adb99d864ef8d18f71cc62baa56758578">More...</a><br /></td></tr>
<tr class="separator:adb99d864ef8d18f71cc62baa56758578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030fef94476f383bed91051c95e2d737"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; google::iam::v1::Policy &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a030fef94476f383bed91051c95e2d737">GetIamPolicy</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;in)</td></tr>
<tr class="memdesc:a030fef94476f383bed91051c95e2d737"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IAM policy in effect for the given instance.  <a href="#a030fef94476f383bed91051c95e2d737">More...</a><br /></td></tr>
<tr class="separator:a030fef94476f383bed91051c95e2d737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eebc6ad51a6ff0e4c35587100f2ca75"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; google::iam::v1::Policy &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a9eebc6ad51a6ff0e4c35587100f2ca75">SetIamPolicy</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;in, google::iam::v1::Policy policy)</td></tr>
<tr class="memdesc:a9eebc6ad51a6ff0e4c35587100f2ca75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the IAM policy for the given instance.  <a href="#a9eebc6ad51a6ff0e4c35587100f2ca75">More...</a><br /></td></tr>
<tr class="separator:a9eebc6ad51a6ff0e4c35587100f2ca75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978ad8c5d46825a364aeb7e55c4861b0"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; google::iam::v1::TestIamPermissionsResponse &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a978ad8c5d46825a364aeb7e55c4861b0">TestIamPermissions</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;in, std::vector&lt; std::string &gt; permissions)</td></tr>
<tr class="memdesc:a978ad8c5d46825a364aeb7e55c4861b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the subset of the permissions the caller has on the given instance.  <a href="#a978ad8c5d46825a364aeb7e55c4861b0">More...</a><br /></td></tr>
<tr class="separator:a978ad8c5d46825a364aeb7e55c4861b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a23ac1a041175def4102f55e7a292d59a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a23ac1a041175def4102f55e7a292d59a">InstanceAdminClient</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;)=default</td></tr>
<tr class="separator:a23ac1a041175def4102f55e7a292d59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b049c6f7add27d83bf0c0088a8c2b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a21b049c6f7add27d83bf0c0088a8c2b6">operator=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;)=default</td></tr>
<tr class="separator:a21b049c6f7add27d83bf0c0088a8c2b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af875d3c25e2df473680a6cab3a586e44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af875d3c25e2df473680a6cab3a586e44">InstanceAdminClient</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&amp;)=default</td></tr>
<tr class="separator:af875d3c25e2df473680a6cab3a586e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5085f3c5c0fc552767ec981fc8986027"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a5085f3c5c0fc552767ec981fc8986027">operator=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a5085f3c5c0fc552767ec981fc8986027"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:afe7ddf49cbfba4015b6f6923e36a86d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#afe7ddf49cbfba4015b6f6923e36a86d2">operator==</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;a, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;b)</td></tr>
<tr class="separator:afe7ddf49cbfba4015b6f6923e36a86d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87ce4a23b1a2a9b68dfb2b09362799b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af87ce4a23b1a2a9b68dfb2b09362799b">operator!=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;a, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;b)</td></tr>
<tr class="separator:af87ce4a23b1a2a9b68dfb2b09362799b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs instance administration operations on Cloud Spanner. </p>
<p>Applications use this class to perform operations on <a href="https://cloud.google.com/spanner/docs/api-libraries-overview">Spanner Databases</a>.</p>
<dl class="section user"><dt>Performance</dt><dd></dd></dl>
<p><code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html" title="Performs instance administration operations on Cloud Spanner.">InstanceAdminClient</a></code> objects are cheap to create, copy, and move. However, each <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html" title="Performs instance administration operations on Cloud Spanner.">InstanceAdminClient</a></code> object must be created with a <code>std::shared_ptr&lt;<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminConnection.html" title="A connection to the Cloud Spanner instance administration service.">InstanceAdminConnection</a>&gt;</code>, which itself is relatively expensive to create. Therefore, connection instances should be shared when possible. See the <code><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html#a3c4d3bacc5ae17a36d4e8fc672cdc41d" title="Returns an InstanceAdminConnection object that can be used for interacting with Cloud Spanner&#39;s admin...">MakeInstanceAdminConnection()</a></code> method and the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminConnection.html" title="A connection to the Cloud Spanner instance administration service.">InstanceAdminConnection</a></code> interface for more details.</p>
<dl class="section user"><dt>Thread Safety</dt><dd></dd></dl>
<p>Instances of this class created via copy-construction or copy-assignment share the underlying pool of connections. Access to these copies via multiple threads is guaranteed to work. Two threads operating on the same instance of this class is not guaranteed to work.</p>
<dl class="section user"><dt>Error Handling</dt><dd></dd></dl>
<p>This class uses <code>StatusOr&lt;T&gt;</code> to report errors. When an operation fails to perform its work the returned <code>StatusOr&lt;T&gt;</code> contains the error details. If the <code>ok()</code> member function in the <code>StatusOr&lt;T&gt;</code> returns <code>true</code> then it contains the expected result. Please consult the <a href="#google::cloud::v0::StatusOr"><code>StatusOr&lt;T&gt;</code> documentation</a> for more details. </p>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8h_source.html#l00061">61</a> of file <a class="el" href="instance__admin__client_8h_source.html">instance_admin_client.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1b88bdcbfc8b7af748988f16f546c559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b88bdcbfc8b7af748988f16f546c559">&#9670;&nbsp;</a></span>InstanceAdminClient() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v0::InstanceAdminClient::InstanceAdminClient </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminConnection.html">InstanceAdminConnection</a> &gt;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8h_source.html#l00063">63</a> of file <a class="el" href="instance__admin__client_8h_source.html">instance_admin_client.h</a>.</p>

</div>
</div>
<a id="a09671ec2b83449f920822dbd22177d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09671ec2b83449f920822dbd22177d2c">&#9670;&nbsp;</a></span>InstanceAdminClient() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v0::InstanceAdminClient::InstanceAdminClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No default construction. </p>
<p>Use <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html" title="Performs instance administration operations on Cloud Spanner.">InstanceAdminClient</a>(std::shared_ptr&lt;<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminConnection.html" title="A connection to the Cloud Spanner instance administration service.">InstanceAdminConnection</a>&gt;)</code> </p>

</div>
</div>
<a id="a23ac1a041175def4102f55e7a292d59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ac1a041175def4102f55e7a292d59a">&#9670;&nbsp;</a></span>InstanceAdminClient() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v0::InstanceAdminClient::InstanceAdminClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af875d3c25e2df473680a6cab3a586e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af875d3c25e2df473680a6cab3a586e44">&#9670;&nbsp;</a></span>InstanceAdminClient() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v0::InstanceAdminClient::InstanceAdminClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af7f8656528164cc095769d343ee135cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f8656528164cc095769d343ee135cf">&#9670;&nbsp;</a></span>CreateInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">future&lt; StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt; &gt; google::cloud::spanner::v0::InstanceAdminClient::CreateInstance </td>
          <td>(</td>
          <td class="paramtype">google::spanner::admin::instance::v1::CreateInstanceRequest const &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new Cloud Spanner instance in the given project. </p>
<p>Use <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1CreateInstanceRequestBuilder.html" title="CreateInstanceRequestBuilder is a builder class for google::spanner::admin::instance::v1::CreateInsta...">CreateInstanceRequestBuilder</a> to build the <code>google::spanner::admin::instance::v1::CreateInstanceRequest</code> object.</p>
<p>Note that the instance id must be between 2 and 64 characters long, it must start with a lowercase letter (<code>[a-z]</code>), it must end with a lowercase letter or a number (<code>[a-z0-9]</code>) and any characters between the beginning and ending characters must be lower case letters, numbers, or dashes (<code>-</code>), that is, they must belong to the <code>[-a-z0-9]</code> character set.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af7f8656528164cc095769d343ee135cf">CreateInstance</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; instance_id,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; display_name) {</div><div class="line">  <span class="keyword">using</span> google::cloud::future;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; instance_config_names = [client,</div><div class="line">                                                    project_id]() <span class="keyword">mutable</span> {</div><div class="line">    std::vector&lt;std::string&gt; names;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; instance_config : client.ListInstanceConfigs(project_id)) {</div><div class="line">      <span class="keywordflow">if</span> (!instance_config) <span class="keywordflow">break</span>;</div><div class="line">      names.push_back(instance_config-&gt;name());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> names;</div><div class="line">  }();</div><div class="line">  <span class="keywordflow">if</span> (instance_config_names.empty()) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Can not retrieve the list of instance configs.&quot;</span>);</div><div class="line">  }</div><div class="line">  <span class="comment">// Use the name of the first element from the list of instance configs.</span></div><div class="line">  <span class="keyword">auto</span> instance_config = instance_config_names[0];</div><div class="line">  future&lt;StatusOr&lt;google::spanner::admin::instance::v1::Instance&gt;&gt; f =</div><div class="line">      client.CreateInstance(</div><div class="line">          google::cloud::spanner::CreateInstanceRequestBuilder(in,</div><div class="line">                                                               instance_config)</div><div class="line">              .SetDisplayName(display_name)</div><div class="line">              .SetNodeCount(1)</div><div class="line">              .SetLabels({{<span class="stringliteral">&quot;label-key&quot;</span>, <span class="stringliteral">&quot;label-value&quot;</span>}})</div><div class="line">              .Build());</div><div class="line">  StatusOr&lt;google::spanner::admin::instance::v1::Instance&gt; instance = f.get();</div><div class="line">  <span class="keywordflow">if</span> (!instance) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(instance.status().message());</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Created instance [&quot;</span> &lt;&lt; in &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00028">28</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="a6bc1481e26b0467478757df9411e4759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc1481e26b0467478757df9411e4759">&#9670;&nbsp;</a></span>DeleteInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::spanner::v0::InstanceAdminClient::DeleteInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an existing Cloud Spanner instance. </p>
<dl class="section warning"><dt>Warning</dt><dd>Deleting an instance deletes all the databases in the instance. This is an unrecoverable operation.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a6bc1481e26b0467478757df9411e4759">DeleteInstance</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; instance_id) {</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> status = client.DeleteInstance(in);</div><div class="line">  <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(status.message());</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Deleted instance [&quot;</span> &lt;&lt; in &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00041">41</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="a030fef94476f383bed91051c95e2d737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030fef94476f383bed91051c95e2d737">&#9670;&nbsp;</a></span>GetIamPolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; google::iam::v1::Policy &gt; google::cloud::spanner::v0::InstanceAdminClient::GetIamPolicy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the IAM policy in effect for the given instance. </p>
<p>This function retrieves the IAM policy configured in the given instance, that is, which roles are enabled in the instance, and what entities are members of each role.</p>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and therefore it is always treated as idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> InstanceGetIamPolicy(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                          std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                          std::string <span class="keyword">const</span>&amp; instance_id) {</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line">  <span class="keyword">auto</span> actual = client.GetIamPolicy(in);</div><div class="line">  <span class="keywordflow">if</span> (!actual) <span class="keywordflow">throw</span> std::runtime_error(actual.status().message());</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;The IAM policy for instance &quot;</span> &lt;&lt; instance_id &lt;&lt; <span class="stringliteral">&quot; is:\n&quot;</span></div><div class="line">            &lt;&lt; actual-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd>The <a href="https://cloud.google.com/spanner/docs/iam">Cloud Spanner documentation</a> for a description of the roles and permissions supported by Cloud Spanner. </dd>
<dd>
<a href="https://cloud.google.com/iam/docs/overview#permissions">IAM Overview</a> for an introduction to Identity and Access Management in Google Cloud Platform. </dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00060">60</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="ab2750d0f0b1b0e40e0f1f85017bed1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2750d0f0b1b0e40e0f1f85017bed1c4">&#9670;&nbsp;</a></span>GetInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt; google::cloud::spanner::v0::InstanceAdminClient::GetInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve metadata information about a Cloud Spanner <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html" title="This class identifies a Cloud Spanner Instance.">Instance</a>. </p>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and therefore it is always treated as idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#ab2750d0f0b1b0e40e0f1f85017bed1c4">GetInstance</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                 std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                 std::string <span class="keyword">const</span>&amp; instance_id) {</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line">  <span class="keyword">auto</span> instance = client.GetInstance(in);</div><div class="line">  <span class="keywordflow">if</span> (!instance) <span class="keywordflow">throw</span> std::runtime_error(instance.status().message());</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;The instance &quot;</span> &lt;&lt; instance-&gt;name()</div><div class="line">            &lt;&lt; <span class="stringliteral">&quot; exists and its metadata is:\n&quot;</span></div><div class="line">            &lt;&lt; instance-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00023">23</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="ae086def20707b8fdca2fef18756f4658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae086def20707b8fdca2fef18756f4658">&#9670;&nbsp;</a></span>GetInstanceConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; google::spanner::admin::instance::v1::InstanceConfig &gt; google::cloud::spanner::v0::InstanceAdminClient::GetInstanceConfig </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve information about a Cloud Spanner <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html" title="This class identifies a Cloud Spanner Instance.">Instance</a> Config. </p>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and therefore it is always treated as idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#ae086def20707b8fdca2fef18756f4658">GetInstanceConfig</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                       std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                       std::string <span class="keyword">const</span>&amp; instance_config_name) {</div><div class="line">  <span class="keyword">auto</span> instance_config = client.GetInstanceConfig(</div><div class="line">      <span class="stringliteral">&quot;projects/&quot;</span> + project_id + <span class="stringliteral">&quot;/instanceConfigs/&quot;</span> + instance_config_name);</div><div class="line">  <span class="keywordflow">if</span> (!instance_config) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(instance_config.status().message());</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;The instanceConfig &quot;</span> &lt;&lt; instance_config-&gt;name()</div><div class="line">            &lt;&lt; <span class="stringliteral">&quot; exists and its metadata is:\n&quot;</span></div><div class="line">            &lt;&lt; instance_config-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00046">46</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="a116ab0e45f96fbd2ea76f8c771517ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a116ab0e45f96fbd2ea76f8c771517ed1">&#9670;&nbsp;</a></span>ListInstanceConfigs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html#a26a21e57b79a55456e5eb82ea075cdf9">ListInstanceConfigsRange</a> google::cloud::spanner::v0::InstanceAdminClient::ListInstanceConfigs </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>project_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a list of instance configs for a given project. </p>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and therefore it is always treated as idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#a116ab0e45f96fbd2ea76f8c771517ed1">ListInstanceConfigs</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                         std::string <span class="keyword">const</span>&amp; project_id) {</div><div class="line">  <span class="keywordtype">int</span> count = 0;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; instance_config : client.ListInstanceConfigs(project_id)) {</div><div class="line">    <span class="keywordflow">if</span> (!instance_config) {</div><div class="line">      <span class="keywordflow">throw</span> std::runtime_error(instance_config.status().message());</div><div class="line">    }</div><div class="line">    ++count;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Instance config [&quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot;]:\n&quot;</span></div><div class="line">              &lt;&lt; instance_config-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">if</span> (count == 0) {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;No instance configs found in project &quot;</span> &lt;&lt; project_id;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00050">50</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="adb99d864ef8d18f71cc62baa56758578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb99d864ef8d18f71cc62baa56758578">&#9670;&nbsp;</a></span>ListInstances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v0.html#a71cb6e79b7fb96cdd1bf646b8ab8e09b">ListInstancesRange</a> google::cloud::spanner::v0::InstanceAdminClient::ListInstances </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a list of instances for a given project. </p>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and therefore it is always treated as idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#adb99d864ef8d18f71cc62baa56758578">ListInstances</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                   std::string <span class="keyword">const</span>&amp; project_id) {</div><div class="line">  <span class="keywordtype">int</span> count = 0;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; instance : client.ListInstances(project_id, <span class="stringliteral">&quot;&quot;</span>)) {</div><div class="line">    <span class="keywordflow">if</span> (!instance) <span class="keywordflow">throw</span> std::runtime_error(instance.status().message());</div><div class="line">    ++count;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Instance [&quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot;]:\n&quot;</span></div><div class="line">              &lt;&lt; instance-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">if</span> (count == 0) {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;No instances found in project &quot;</span> &lt;&lt; project_id;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00055">55</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="a21b049c6f7add27d83bf0c0088a8c2b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b049c6f7add27d83bf0c0088a8c2b6">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a>&amp; google::cloud::spanner::v0::InstanceAdminClient::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5085f3c5c0fc552767ec981fc8986027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5085f3c5c0fc552767ec981fc8986027">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a>&amp; google::cloud::spanner::v0::InstanceAdminClient::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9eebc6ad51a6ff0e4c35587100f2ca75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eebc6ad51a6ff0e4c35587100f2ca75">&#9670;&nbsp;</a></span>SetIamPolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; google::iam::v1::Policy &gt; google::cloud::spanner::v0::InstanceAdminClient::SetIamPolicy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">google::iam::v1::Policy&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the IAM policy for the given instance. </p>
<p>This function changes the IAM policy configured in the given instance to the value of <code>policy</code>.</p>
<dl class="section user"><dt>Idempotency</dt><dd>This function is only idempotent if the <code>etag</code> field in <code>policy</code> is set. Therefore, the underlying RPCs are only retried if the field is set, and the function returns the first RPC error in any other case.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> AddDatabaseReader(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                       std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                       std::string <span class="keyword">const</span>&amp; instance_id,</div><div class="line">                       std::string <span class="keyword">const</span>&amp; new_reader) {</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> current = client.GetIamPolicy(in);</div><div class="line">  <span class="keywordflow">if</span> (!current) <span class="keywordflow">throw</span> std::runtime_error(current.status().message());</div><div class="line"></div><div class="line">  <span class="comment">// Find (or create) the binding for &quot;roles/spanner.databaseReader&quot;.</span></div><div class="line">  <span class="keyword">auto</span>&amp; binding = [&amp;current]() -&gt; google::iam::v1::Binding&amp; {</div><div class="line">    <span class="keyword">auto</span> role_pos =</div><div class="line">        std::find_if(current-&gt;mutable_bindings()-&gt;begin(),</div><div class="line">                     current-&gt;mutable_bindings()-&gt;end(),</div><div class="line">                     [](google::iam::v1::Binding <span class="keyword">const</span>&amp; b) {</div><div class="line">                       <span class="keywordflow">return</span> b.role() == <span class="stringliteral">&quot;roles/spanner.databaseReader&quot;</span> &amp;&amp;</div><div class="line">                              !b.has_condition();</div><div class="line">                     });</div><div class="line">    <span class="keywordflow">if</span> (role_pos != current-&gt;mutable_bindings()-&gt;end()) {</div><div class="line">      <span class="keywordflow">return</span> *role_pos;</div><div class="line">    }</div><div class="line">    <span class="keyword">auto</span>&amp; binding = *current-&gt;add_bindings();</div><div class="line">    binding.set_role(<span class="stringliteral">&quot;roles/spanner.databaseReader&quot;</span>);</div><div class="line">    <span class="keywordflow">return</span> binding;</div><div class="line">  }();</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> member_pos =</div><div class="line">      std::find(binding.members().begin(), binding.members().end(), new_reader);</div><div class="line">  <span class="keywordflow">if</span> (member_pos != binding.members().end()) {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The entity &quot;</span> &lt;&lt; new_reader</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; is already a database reader:\n&quot;</span></div><div class="line">              &lt;&lt; current-&gt;DebugString();</div><div class="line">    <span class="keywordflow">return</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">if</span> (member_pos == binding.members().end()) {</div><div class="line">    binding.add_members(new_reader);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> result = client.SetIamPolicy(in, *std::move(current));</div><div class="line">  <span class="keywordflow">if</span> (!result) <span class="keywordflow">throw</span> std::runtime_error(result.status().message());</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully added &quot;</span> &lt;&lt; new_reader</div><div class="line">            &lt;&lt; <span class="stringliteral">&quot; to the database reader role:\n&quot;</span></div><div class="line">            &lt;&lt; result-&gt;DebugString() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd>The <a href="https://cloud.google.com/spanner/docs/iam">Cloud Spanner documentation</a> for a description of the roles and permissions supported by Cloud Spanner. </dd>
<dd>
<a href="https://cloud.google.com/iam/docs/overview#permissions">IAM Overview</a> for an introduction to Identity and Access Management in Google Cloud Platform. </dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00065">65</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="a978ad8c5d46825a364aeb7e55c4861b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978ad8c5d46825a364aeb7e55c4861b0">&#9670;&nbsp;</a></span>TestIamPermissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; google::iam::v1::TestIamPermissionsResponse &gt; google::cloud::spanner::v0::InstanceAdminClient::TestIamPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1Instance.html">Instance</a> const &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the subset of the permissions the caller has on the given instance. </p>
<p>This function compares the given list of permissions against those permissions granted to the caller, and returns the subset of the list that the caller actually holds.</p>
<dl class="section note"><dt>Note</dt><dd>Permission wildcards, such as <code>spanner.*</code> are not allowed.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> InstanceTestIamPermissions(</div><div class="line">    google::cloud::spanner::InstanceAdminClient client,</div><div class="line">    std::string <span class="keyword">const</span>&amp; project_id, std::string <span class="keyword">const</span>&amp; instance_id) {</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line">  <span class="keyword">auto</span> actual = client.TestIamPermissions(in, {<span class="stringliteral">&quot;spanner.databases.list&quot;</span>});</div><div class="line">  <span class="keywordflow">if</span> (!actual) <span class="keywordflow">throw</span> std::runtime_error(actual.status().message());</div><div class="line"></div><div class="line">  <span class="keywordtype">char</span> <span class="keyword">const</span>* msg = actual-&gt;permissions().empty() ? <span class="stringliteral">&quot;does not&quot;</span> : <span class="stringliteral">&quot;does&quot;</span>;</div><div class="line"></div><div class="line">  std::cout</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot;The caller &quot;</span> &lt;&lt; msg</div><div class="line">      &lt;&lt; <span class="stringliteral">&quot; have permission to list databases on the Cloud Spanner instance &quot;</span></div><div class="line">      &lt;&lt; in.instance_id() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd>The <a href="https://cloud.google.com/spanner/docs/iam">Cloud Spanner documentation</a> for a description of the roles and permissions supported by Cloud Spanner. </dd>
<dd>
<a href="https://cloud.google.com/iam/docs/overview#permissions">IAM Overview</a> for an introduction to Identity and Access Management in Google Cloud Platform. </dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00071">71</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<a id="af4dbf95901e8d5f1057409e6fc021a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4dbf95901e8d5f1057409e6fc021a28">&#9670;&nbsp;</a></span>UpdateInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">future&lt; StatusOr&lt; google::spanner::admin::instance::v1::Instance &gt; &gt; google::cloud::spanner::v0::InstanceAdminClient::UpdateInstance </td>
          <td>(</td>
          <td class="paramtype">google::spanner::admin::instance::v1::UpdateInstanceRequest const &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates a Cloud Spanner instance. </p>
<p>Use <code>google::cloud::spanner::UpdateInstanceRequestBuilder</code> to build the <code>google::spanner::admin::instance::v1::UpdateInstanceRequest</code> object.</p>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is idempotent as its result does not depend on the previous state of the instance. Note that, as is the case with all operations, it is subject to race conditions if multiple tasks are attempting to change the same fields in the same instance.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html#af4dbf95901e8d5f1057409e6fc021a28">UpdateInstance</a>(google::cloud::spanner::InstanceAdminClient client,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; project_id,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; instance_id,</div><div class="line">                    std::string <span class="keyword">const</span>&amp; new_display_name) {</div><div class="line">  <span class="keyword">using</span> google::cloud::future;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  google::cloud::spanner::Instance in(project_id, instance_id);</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> f = client.UpdateInstance(</div><div class="line">      google::cloud::spanner::UpdateInstanceRequestBuilder(in)</div><div class="line">          .SetDisplayName(new_display_name)</div><div class="line">          .Build());</div><div class="line">  <span class="keyword">auto</span> instance = f.get();</div><div class="line">  <span class="keywordflow">if</span> (!instance) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(instance.status().message());</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Updated instance [&quot;</span> &lt;&lt; in &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8cc_source.html#l00035">35</a> of file <a class="el" href="instance__admin__client_8cc_source.html">instance_admin_client.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="af87ce4a23b1a2a9b68dfb2b09362799b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87ce4a23b1a2a9b68dfb2b09362799b">&#9670;&nbsp;</a></span>operator!=</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator!= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8h_source.html#l00084">84</a> of file <a class="el" href="instance__admin__client_8h_source.html">instance_admin_client.h</a>.</p>

</div>
</div>
<a id="afe7ddf49cbfba4015b6f6923e36a86d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7ddf49cbfba4015b6f6923e36a86d2">&#9670;&nbsp;</a></span>operator==</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator== </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v0_1_1InstanceAdminClient.html">InstanceAdminClient</a> const &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="instance__admin__client_8h_source.html#l00080">80</a> of file <a class="el" href="instance__admin__client_8h_source.html">instance_admin_client.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
